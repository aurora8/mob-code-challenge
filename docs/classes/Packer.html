<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Packer | mob-code-challenge</title>
	<meta name="description" content="Documentation for mob-code-challenge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="../assets/css/main.css">
	<script async src="../assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="../assets/js/search.json" data-base="..">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="../index.html" class="title">mob-code-challenge</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="../modules.html">mob-code-challenge</a>
				</li>
				<li>
					<a href="Packer.html">Packer</a>
				</li>
			</ul>
			<h1>Class Packer</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<section class="tsd-panel tsd-hierarchy">
				<h3>Hierarchy</h3>
				<ul class="tsd-hierarchy">
					<li>
						<span class="target">Packer</span>
					</li>
				</ul>
			</section>
			<section class="tsd-panel-group tsd-index-group">
				<h2>Index</h2>
				<section class="tsd-panel tsd-index-panel">
					<div class="tsd-index-content">
						<section class="tsd-index-section ">
							<h3>Constructors</h3>
							<ul class="tsd-index-list">
								<li class="tsd-kind-constructor tsd-parent-kind-class"><a href="Packer.html#constructor" class="tsd-kind-icon">constructor</a></li>
							</ul>
						</section>
						<section class="tsd-index-section ">
							<h3>Methods</h3>
							<ul class="tsd-index-list">
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="Packer.html#pack" class="tsd-kind-icon">pack</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="Packer.html#parseInputs" class="tsd-kind-icon">parse<wbr>Inputs</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="Packer.html#readInputFile" class="tsd-kind-icon">read<wbr>Input<wbr>File</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="Packer.html#solveUseCases" class="tsd-kind-icon">solve<wbr>Use<wbr>Cases</a></li>
							</ul>
						</section>
					</div>
				</section>
			</section>
			<section class="tsd-panel-group tsd-member-group ">
				<h2>Constructors</h2>
				<section class="tsd-panel tsd-member tsd-kind-constructor tsd-parent-kind-class">
					<a name="constructor" class="tsd-anchor"></a>
					<h3>constructor</h3>
					<ul class="tsd-signatures tsd-kind-constructor tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">new <wbr>Packer<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Packer.html" class="tsd-signature-type" data-tsd-kind="Class">Packer</a></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
							</aside>
							<h4 class="tsd-returns-title">Returns <a href="Packer.html" class="tsd-signature-type" data-tsd-kind="Class">Packer</a></h4>
						</li>
					</ul>
				</section>
			</section>
			<section class="tsd-panel-group tsd-member-group ">
				<h2>Methods</h2>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static">
					<a name="pack" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagStatic">Static</span> pack</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static">
						<li class="tsd-signature tsd-kind-icon">pack<span class="tsd-signature-symbol">(</span>inputFile<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/aurora8/mob-code-challenge/blob/257deca/src/packer.ts#L20">packer.ts:20</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>performs a knapsack solution using a greedy algorithm from an input file
									with multiple use cases per line</p>
								</div>
								<p>the method first reads the incoming input file, parses the contens into a
									collection of UseCase instances, then applies the algorithm on all use
								cases found, takes one file at a time and async returns computed knapsack</p>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>inputFile: <span class="tsd-signature-type">string</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>absolute or relative path to input file</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>Promise<string> async computes knapsack and returns a string
							of item indicies per use case per line</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static">
					<a name="parseInputs" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagStatic">Static</span> parse<wbr>Inputs</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static">
						<li class="tsd-signature tsd-kind-icon">parse<wbr>Inputs<span class="tsd-signature-symbol">(</span>content<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">UseCase</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/aurora8/mob-code-challenge/blob/257deca/src/packer.ts#L83">packer.ts:83</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<dl class="tsd-comment-tags">
									<dt>async</dt>
									<dd></dd>
									<dt>static</dt>
									<dd></dd>
									<dt>function</dt>
									<dd><p>a convenience parser that parses contents from an input file with
											the provided input specifications in the format
											max weigh capacity : (index,wight,price)
										where each line represents an input tuple/item</p>
										<p>the parser will attempt to parse incoming payloads by collecting relevant
										data into an array</p>
									</dd>
								</dl>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>content: <span class="tsd-signature-type">string</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>the file contents to parse</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">UseCase</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>an array of parsed Item objects</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static">
					<a name="readInputFile" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagStatic">Static</span> read<wbr>Input<wbr>File</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static">
						<li class="tsd-signature tsd-kind-icon">read<wbr>Input<wbr>File<span class="tsd-signature-symbol">(</span>inputFile<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/aurora8/mob-code-challenge/blob/257deca/src/packer.ts#L57">packer.ts:57</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<dl class="tsd-comment-tags">
									<dt>async</dt>
									<dd></dd>
									<dt>static</dt>
									<dd></dd>
									<dt>function</dt>
									<dd><p>reads a given file path asynchronously in utf-8 encoding and returns the
											contents as a string, for a better performance in larger file sizes,
										this could be implemented as a Readable Stream instead (not nessecary in this case)</p>
										<p>the input path is normalzed by the path module, this is to resolve any
										path issues in the path string format, e.g //</p>
									</dd>
									<dt>throws</dt>
									<dd><p>{ApiError} any errors cought during file read operation</p>
									</dd>
								</dl>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>inputFile: <span class="tsd-signature-type">string</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>the path to the input file, the path is normalized in this method, relative
										paths can be used from the execution context</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>read file contents</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static">
					<a name="solveUseCases" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagStatic">Static</span> solve<wbr>Use<wbr>Cases</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static">
						<li class="tsd-signature tsd-kind-icon">solve<wbr>Use<wbr>Cases<span class="tsd-signature-symbol">(</span>useCases<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">UseCase</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Bag</span><span class="tsd-signature-symbol">[]</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/aurora8/mob-code-challenge/blob/257deca/src/packer.ts#L159">packer.ts:159</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<dl class="tsd-comment-tags">
									<dt>function</dt>
									<dd></dd>
									<dt>static</dt>
									<dd>
										<a href="#analysis" id="analysis" style="color: inherit; text-decoration: none;">
											<h1>ANALYSIS</h1>
										</a>
										<p>solves the packing problem using a simple greedy approach by sorting items
											by highest price/weight ratio in the sort compare function while
											also accounting for the price difference (prioritizing higher prices),
											then picking items one at a time until the bag is full
										relies on sorted elements by ratio in desc order</p>
										<p>in this case, the sort comparison uses
											RATIO R = (B.PRICE / B.WEIGHT) - (A.PRICE / A.WEIGHT) + (B.PRICE - A.PRICE)
										taking account of the price difference <delta> in the sort stage</p>
										<p>once the item are sorted, the idea is to start picking largest ratios
										from index = 0 to array.length one by one until the bag is filled ignoring invalid items</p>
										<p>the alternate conventional approaches employ dynamic programming with complex data
											structures like hash tables and sets which is more costly in terms of space complexity
											in this case, avoiding finding a max or build dynamic tables which
											require huge space complexity, so instead of focusing on finding
											the max price/value in an iteration, then scanning the items in another, the items are
											sorted since we are interested in Items not max value attainable, complexity for those
											other approaches could jump to O(3^n) or O(4^n) besides space complexity,
										also weights are fractional which renders these methods unsuitable</p>
										<a href="#time-and-space-complexity" id="time-and-space-complexity" style="color: inherit; text-decoration: none;">
											<h1>TIME AND SPACE COMPLEXITY</h1>
										</a>
										<p>looking at the V8 source code implementation of the Array.sort method,
										the runtime performs an efficient Merge Sort with logarithmic complexity</p>
										<p><a href="https://github.com/v8/v8/blob/master/src/builtins/typed-array-sort.tq">https://github.com/v8/v8/blob/master/src/builtins/typed-array-sort.tq</a></p>
										<a href="#algorithm---------space-complexity---time-complexity" id="algorithm---------space-complexity---time-complexity" style="color: inherit; text-decoration: none;">
											<h2>ALGORITHM         SPACE COMPLEXITY   TIME COMPLEXITY</h2>
										</a>
										<p>Merge Sort        O(n log(n))        O(n log(n))</p>
										<ol>
											<li>the algorithm first sorts out the items from highest to lowest ratio</li>
											<li>next we iterate over the items from highest to lowest ratio and begin
											by adding items one by one until max weight is reached, skipping unfitting items</li>
											<li>return the bag when the max weight capacity is reached</li>
										</ol>
									</dd>
								</dl>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>useCases: <span class="tsd-signature-type">UseCase</span><span class="tsd-signature-symbol">[]</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>an array of use cases to solve</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Bag</span><span class="tsd-signature-symbol">[]</span></h4>
							<p>an array of bags (solutions) per use case</p>
						</li>
					</ul>
				</section>
			</section>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="../modules.html">Exports</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
				<ul class="current">
					<li class="current tsd-kind-class">
						<a href="Packer.html" class="tsd-kind-icon">Packer</a>
						<ul>
							<li class=" tsd-kind-constructor tsd-parent-kind-class">
								<a href="Packer.html#constructor" class="tsd-kind-icon">constructor</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-static">
								<a href="Packer.html#pack" class="tsd-kind-icon">pack</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-static">
								<a href="Packer.html#parseInputs" class="tsd-kind-icon">parse<wbr>Inputs</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-static">
								<a href="Packer.html#readInputFile" class="tsd-kind-icon">read<wbr>Input<wbr>File</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-static">
								<a href="Packer.html#solveUseCases" class="tsd-kind-icon">solve<wbr>Use<wbr>Cases</a>
							</li>
						</ul>
					</li>
				</ul>
				<ul class="after-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="../assets/js/main.js"></script>
</body>
</html>